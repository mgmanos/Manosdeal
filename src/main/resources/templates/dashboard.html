<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
d</head>
<body>
<div th:if="${successMessage}" class="alert alert-success">
    <p th:text="${successMessage}"></p>
</div>

<h2>Welcome, <span th:text="${user.username}"></span></h2>
<p>Role: <span th:text="${user.roles[0].name}"></span></p>

<div id="userSection" th:if="${#lists.contains(user.roles.![name], 'USER')}">
    <a href="/productlistui">View Products</a>
    <a href="/showcartui">View Cart</a>
    <a href="/showorderui">My Orders</a>
</div>

<div id="adminSection" th:if="${#lists.contains(user.roles.![name], 'ADMIN')}">
    <a href="/productui">Add Product</a>
    <a href="/showorderui">View All Orders</a>
</div>


<form action="/logout" method="post">
    <button type="submit">Logout</button>
</form>

</body>
</html>
